{"version":3,"sources":["Components/Login/index.js","Components/Profile/index.js","Components/Registration/index.js","App.js","index.js"],"names":["axios","require","Login","props","onClick","setPage","name","onSubmit","e","preventDefault","email","target","value","pass","password","post","data","then","res","console","log","head","successful","user","setUser","setToken","token","setError","message","catch","required","placeholder","defaultValue","type","Profile","useState","loginMsg","changeLoginMsg","nickname","phone","paystatus","status","Registration","headers","App","page","errorMsg","setErrorMsg","className","parseState","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.22d1c17a.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nconst axios = require(\"axios\");\r\n\r\nexport default function Login(props) {\r\n\r\n    function login(e) {\r\n        e.preventDefault();\r\n\r\n        const email = e.target.email.value;\r\n        const pass = e.target.password.value;\r\n\r\n        axios.post(\"http://diceit.itancan.com:8604/login\", {data:{email:email,password:pass}})\r\n            .then(res => {\r\n                console.log(res)\r\n                if(!res.data.head.successful) {\r\n                    props.setError(res.data.head.message)\r\n                } else {\r\n                    const user = res.data.data;\r\n                    props.setUser(user);\r\n                    props.setToken(user.token);\r\n                    props.setPage(\"profile\");\r\n                }\r\n            })\r\n            .catch(console.log);\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <nav>\r\n                <button onClick={() => props.setPage(\"profile\")}>\r\n                    Go to profile\r\n                </button>\r\n            </nav>\r\n            <main>\r\n                <form\r\n                    name={\"login\"}\r\n                    onSubmit={login}\r\n                >\r\n                    <input\r\n                        required\r\n                        placeholder={\"Email\"}\r\n                        name={\"email\"}\r\n                        defaultValue={props.user ? props.user.email : \"\"}\r\n                    />\r\n                    <input\r\n                        required\r\n                        placeholder={\"Password\"}\r\n                        name={\"password\"}\r\n                        defaultValue={\"\"}\r\n                    />\r\n                    <button type={\"submit\"}>\r\n                        Login\r\n                    </button>\r\n                </form>\r\n                <button onClick={() => props.setPage(\"registration\")} >\r\n                    Sign Up!\r\n                </button>\r\n            </main>\r\n            <footer>footer</footer>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n\r\n","import React, {useState} from \"react\"\r\n\r\nconst axios = require(\"axios\");\r\n\r\nexport default function Profile(props) {\r\n    const [loginMsg, changeLoginMsg] = useState(\"I don't know!\");\r\n    const user = props.user;\r\n\r\n    if(user === null) {\r\n        props.setError(\"You are not logged in!\");\r\n        props.setPage(\"login\")\r\n        return <div/>\r\n    }\r\n\r\n    function check() {\r\n        axios.post(`http://diceit.itancan.com:8604/IsLoggedIn?email=${user.email}&token=${user.token}`)\r\n            .then(res => {\r\n                return (res.status == 200) ? res.data : \"I don't know! (Something went wrong)\";\r\n            }).then(changeLoginMsg)\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <nav>\r\n                <button onClick={() => props.setPage(\"login\")}>Go to login</button>\r\n            </nav>\r\n            <main>\r\n                <span><h3>Name: </h3><p>{user.name}</p></span>\r\n                <span><h3>Nickname: </h3><p>{user.nickname}</p></span>\r\n                <span><h3>Phone: </h3><p>{user.phone}</p></span>\r\n                <span><h3>Paystatus: </h3><p>{user.paystatus}</p></span>\r\n\r\n                <button onClick={check}>\r\n                    Check if logged in\r\n                </button>\r\n                <h2>{loginMsg}</h2>\r\n            </main>\r\n            <footer>footer</footer>\r\n        </div>\r\n    )\r\n\r\n}","import React from \"react\"\r\n\r\nconst axios = require(\"axios\");\r\n\r\nexport default function Registration(props) {\r\n\r\n    function submit(e) {\r\n        e.preventDefault();\r\n\r\n        const name = e.target.name.value;\r\n        const nickname = e.target.nickname.value;\r\n        const phone = e.target.phone.value;\r\n        const email = e.target.email.value;\r\n        const password = e.target.password.value;\r\n\r\n\r\n        axios.post(\"http://diceit.itancan.com:8604/addUser\", {\r\n            headers: {\r\n\r\n            },\r\n            data: {\r\n                name: name,\r\n                nickname: nickname,\r\n                phone: phone,\r\n                email: email,\r\n                password: password\r\n            }\r\n        }).then(res => {\r\n            if (!res.data.head.successful) {\r\n                props.setError(res.data.head.message)\r\n            } else {\r\n                props.setUser(res.data.data);\r\n                props.setPage(\"login\");\r\n            }\r\n        })\r\n\r\n\r\n\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <form onSubmit={submit}>\r\n                <input\r\n                    required\r\n                    name={\"email\"}\r\n                    placeholder={\"Email\"}\r\n                />\r\n                <input\r\n                    required\r\n                    name={\"password\"}\r\n                    placeholder={\"Password\"}\r\n                />\r\n                <input\r\n                    required\r\n                    name={\"name\"}\r\n                    placeholder={\"Name\"}\r\n                />\r\n                <input\r\n                    name={\"nickname\"}\r\n                    placeholder={\"Nickname (optional)\"}\r\n                />\r\n                <input\r\n                    required\r\n                    name={\"phone\"}\r\n                    placeholder={\"Phone\"}\r\n                />\r\n\r\n                <button type={\"Submit\"}>\r\n                    Submit\r\n                </button>\r\n            </form>\r\n        </div>\r\n    )\r\n}","import React, { useState } from 'react';\r\n\r\nimport './App.css';\r\nimport Login from \"./Components/Login\";\r\nimport Profile from \"./Components/Profile\";\r\nimport Registration from \"./Components/Registration\";\r\n\r\n\r\n\r\nfunction App() {\r\n  const [page, setPage] = useState(\"\");\r\n  const [token, setToken] = useState(\"\");\r\n  const [user, setUser] = useState(null);\r\n  const [errorMsg, setErrorMsg] = useState(\"\");\r\n\r\n\r\n  function parseState(page) {\r\n    switch (page) {\r\n      case \"profile\": return <Profile setPage={setPage} user={user} setError={setErrorMsg}/>;\r\n      case \"registration\": return <Registration\r\n          setError={setErrorMsg}\r\n          setUser={setUser}\r\n          setPage={setPage}\r\n      />;\r\n      default: return <Login\r\n          setError={setErrorMsg}\r\n          setToken={setToken}\r\n          setUser={setUser}\r\n          setPage={setPage}\r\n          user={user}\r\n      />;\r\n\r\n    }\r\n  }\r\n\r\n\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <h4>{errorMsg}</h4>\r\n      {parseState(page)}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n"],"sourceRoot":""}